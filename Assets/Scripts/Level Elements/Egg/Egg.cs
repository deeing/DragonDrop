using System.Collections;using System.Collections.Generic;using UnityEngine;public class Egg : MonoBehaviour{    [SerializeField]    [Tooltip("Particle system that plays when the egg cracks.")]    private ParticleSystem crackParticles;    [SerializeField]    [Tooltip("Particle system that plays when the egg reaches the nest.")]    private ParticleSystem winParticles;    [SerializeField]    [Tooltip("Object used to animate the egg.")]    private GameObject animatorObject;    [SerializeField]    [Tooltip("Prefab representing the egg shells we create when egg is cracked")]    private GameObject eggCrackPrefab;    [SerializeField]    [Tooltip("List of all the compound colliders for this egg.")]    private Collider2D[] colliders;    private Transform thisTransform;    private Rigidbody2D thisRb;    private DestroyAfterTime selfDestroy;    private void Start()    {        thisTransform = transform;        thisRb = GetComponent<Rigidbody2D>();        colliders = GetComponents<Collider2D>();        selfDestroy = GetComponent<DestroyAfterTime>();    }    public void SetPosition(Vector3 position)    {        thisTransform.position = position;    }    public void StartFalling()    {        thisRb.isKinematic = false;    }    public float GetHeight()    {        return thisTransform.localScale.y;    }    public void Crack()    {        SpawnEggShells();        crackParticles.Play();        selfDestroy.enabled = true;        Hide();    }    public void Win()    {        winParticles.Play();        LevelManager.instance.Win();    }    public void DestroyEgg()    {        Destroy(gameObject);    }    private void SpawnEggShells()    {        SpawnAndMatchVelocity();        CrackedEgg upsideDownEgg = SpawnAndMatchVelocity();        upsideDownEgg.Rotate(new Vector3(180f, 0f, 0f));    }    private CrackedEgg SpawnAndMatchVelocity()    {        GameObject crackedEggObject = Instantiate(eggCrackPrefab, thisTransform);        CrackedEgg crackedEgg = crackedEggObject.GetComponent<CrackedEgg>();        crackedEgg.SetVelocity(thisRb.velocity);        return crackedEgg;    }    public void Hide()    {        animatorObject.SetActive(false);        foreach(Collider2D collider in colliders)        {            collider.enabled = false;        }    }}